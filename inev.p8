pico-8 cartridge // http://www.pico-8.com
version 34
__lua__
obs_x=128

max_push_force=2
push_force=max_push_force
obs_vel=-.5
plr_frame=0
plr_spr=1
plr_state="push"
state="main"
stage=-1
cooldown_counter=0
cooldown=false
has_tutorialed=false

ppl={}

function _init()
	obs_col=1
	music(0)
	poke(0x5f5c,1000)
end

function _update()	

--	if state=="intro"then
	
------------------------------
	--if state=="main"then
	--	obs_vel=-.5
		
	obs_vel=-.5
	if(stage>6)plr_state="pushready"
	if(stage>7)plr_state="tired"
	if plr_state=="push"then
		if btn(➡️) then
			sfx(0)
			obs_vel=push_force
			push_force=.985*push_force
			cooldown_counter+=1
			plr_frame+=sqrt(obs_vel)/6
			plr_spr=(flr(plr_frame)%2)*2+1
			if(push_force<0.1)plr_frame+=0.1 plr_spr+=35
		else
			plr_frame+=0.1
			plr_spr=(flr(plr_frame)%2)*2+5
			if(cooldown_counter>0)cooldown_counter-=0.5
		end
		if cooldown_counter>100 then
		 plr_state="tired"
		end
	elseif plr_state=="tired"then
		plr_frame+=0.1
		plr_spr=(flr(plr_frame)%2)*2+32
		cooldown_counter-=1
		if(cooldown_counter<=0)plr_state="pushready"
		push_force+=0.001
	elseif plr_state=="pushready"then
		plr_frame+=0.1
		plr_spr=(flr(plr_frame)%2)*2+5
		if btnp(➡️) then
			plr_state="push"
			has_tutorialed=true
		end
	end
		
	obs_x+=obs_vel
	if(obs_x>127)obs_x=127
		
	if(obs_x<8and stage<8)then
		stage+=1 
		for i=0,4 do
			add(ppl, {x=-10,
			y=120-rnd(8),
			frame=0,spr=45})
		end
		if(stage==6)state="run"
		obs_x=128
	 push_force=max_push_force---stage/10
		for p in all(ppl)do
			p.x=rnd(80)+60
		end
		if(stage==2)music(4,1000)
		if(stage==8)music(0)
	end
	
	for p in all(ppl) do
		p.frame+=0.2
		p.spr=p.frame%2+45
		p.x-=2
		
	end
	--clear anything behind the
	--block
	for x=obs_x/8+1,128/8 do
		for y=0,128/8 do
			mset(stage*16+x,y,0)
		end
	end
end

function _draw()
	cls()
	map(stage*16)
--	print("state:"..plr_state,7)
--	print("cooldown:"..cooldown_counter)
--	rectfill(obs_x,0,128,128,8)
	if stage==3 then
		print("i can do this",20,80,7)
	end
	for x=obs_x,128,4 do
		for y=0,128,4 do
			rectfill(x,y,x+4,y+4,obs_col)
		end
	end
	spr(plr_spr,obs_x-16,128-16,2,2)
	if time()<3 then
		print("░save us░",40,64,time()*2)
	elseif time()<6 then
		print("by geojax",44,64,time()*2)
	end
	if (stage==0 
	or not has_tutorialed)
	and plr_state!="tired" then
		print("➡️",obs_x-10,100,time()*10%11+1)
	end
	if stage>1 and stage<4then
		for p in all(ppl)do
			spr(p.spr,p.x,p.y)
		end
	end
	if stage==8 then
		print("thank you stranger!",
			obs_x+20,64,time())
		print("you are our hero!",
			obs_x+20,84,time()*3)
	end
end
__gfx__
00000000000000008888000000000000888800000000000000000000000000000000000000000000000000000003300000003000555555110005000000000000
000000000000000088888800000000008888880000000000000000000000000000000000000000000000000000333300000333005a55a5110005000000000000
00700700000000000888880000000000088888000000000000888880000000000000000000000000000000000033330000033300555555110055500000000000
00077000000000000888800000000000088880000000000000888880000000000088888000003000000000000033033000033300555555110055500000000000
000770000000000008000888000000000800088800000000008888800000000000888880000030030000000003333330003333005a55a5115555555100000000
00700700000000008888880000000000888888000000000008000000000000000888888033003030004444400333333000330330555555115a555a5100000000
00000000000000888800000000000088880000000000000008888888000000000888888800303300044444443333333300333330555555115555555100000000
000000000000008008880000000000800888000000000000880000000000000088000000003333004444444430333033003333305a55a5115a555a5100000000
00000000000008000008880000000800000888000000000880888888000000088088888800000000000000003333333303333333555555115555555100000000
00000000000088000000008800088800000000880000008800000000000000880000000000000000000000003303330303303333555555115a555a5100000000
000000000008888880000000000088800000000000000080000000000000008000000000000300000000000033333333033333035a55a5115555555100000000
00000000008800008000000000008080000000000000088000000000000008800000000030030030440000000333333000033330555555115a555a5100000000
00000000080000080000000000008880000000000088808000000000008880800000000033030330444000000002200000002000555555115555555100000000
000000008000000800000000000880000000000008008800000000000800008000000000333333334444000000022000000222005a55a5115a555a5100000000
00000000800000880000000008808000000000008808800000000000880888800000000033333303444444400002200000022200555555115555555100000000
00000000000000800000000008000000000000000880000000000000088000000000000033303000444444440002200000022200555555115555555100000000
00000000000000000000000000000000000000c08888000c00000000888800000000000000000000000020001000000000000000000dd000000dd00000000000
00000000000000000000000000000000000000008888880000000c00888888000000000000000000000222221111110000000000008d8d00008d8d0000000000
00000000000000000000000000000000000c000008888800000000000888880c0000000000000000002555522111111000000000d0cdcd0dd0cdcd0d00000000
000000000000000000000000000888800000000008888000000000000888800000000000000000000225555522211111000000000dcdcdd00dcdcdd000000000
0000000000000000000000000008888000000000080008880000c00008000888000000000000000002555555552211111000000000dddd0000dddd0000000000
0000000000088880000000000008888000000000888888000000000088888800000000000000000025555555555221111110000000dddd0000dddd0000000000
0000000000088880000000000000888000000088880000000000008888000000000000000000000225566666555522111111000000dddd0000dddd0000000000
000000000008888800000000000000080000008008880000000000800888000000000000000000225556000655555211111111000d00000000000d0000000000
00000000000000080000000000000008000008000008880000000800000888000000000000000225555600065555552111111000000000000000000000000000
00000000000008880000000000000888000088000000008800088800000000880000000000002255555666665555555211111110000000000000000000000000
00000000000080080000000000008008000888888000000000008880000000000000000000022555555555555555555521111111000000000000000000000000
00000000000008800000000000000880008800008000000000008080000000000000000000225555555555555555555552211111000000000000000000000000
00000000000880800000000000088080080000080000000000008880000000000000000002222222222222222222222222211111000000000000000000000000
00000000008008000000000000800800800000080000000000088000000000000000000007555555555555555555555555711111000000000000000000000000
00000000080080000000000008008000800000880000000008808000000000000000000022775555555555555555555577211111000000000000000000000000
00000000800800000000000080080000000000800000000008000000000000000000000022557555555555555555555755521111000000000000000000000000
00000888800000000000888888000000000000000000000000000000000000000000000022555755555555555555577555521111000000000000000000000000
00008888880000000008888888000000000000000000000000000000000000000000000022555577555555555555755555521111000000000000000000000000
00088888880000000008888888000000000000000000000000000000000000000000000022555555755555555557555555521111000000000000000000000000
00088888880000000000888880000000000000000000000000000000000000000000000022555555575555555775555555521111000000000000000000000000
00008888800000000800008000000000000000000000000000000000000000000000000022555555557755557555555555521111000000000000000000000000
00000080000000000800008000000000000000000000000000000000000000000000000022555555555575775555555555521111000000000000000000000000
00000080000000000800008000000000000000000000000000000000000000000000000022555555555557755555555555521111000000000000000000000000
00000888000000000088888888000000000000000000000000000000000000000000000022555555555775575555555555521111000000000000000000000000
00088880800000000000008000800000000000000000000000000000000000000000000022555555557555557555555555521111000000000000000000000000
08880088000000000000008000000000000000000000000000000000000000000000000022555555775555555775555555521111000000000000000000000000
00008880000000000008888000080000000000000000000000000000000000000000000022555557555555555557555555521111000000000000000000000000
00000080000000000080000808800000000000000000000000000000000000000000000022555575555555555555755555521111000000000000000000000000
00088880000000000800000080000000000000000000000000000000000000000000000022557755555555555555577555521111000000000000000000000000
00008008000000000800000000000000000000000000000000000000000000000000000022575555555555555555555755521111000000000000000000000000
00000808000000000000000000000000000000000000000000000000000000000000000027755555555555555555555575521111000000000000000000000000
00000088000000000000000000000000000000000000000000000000000000000000000072555555555555555555555557721111000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000c100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000b0000000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000001b0000001b000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000c00000b0000001b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000001b00001b000b000000000b00000000000000000000001d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0b00000000000c00000000000000000000000000000000000000000000000000000000000000000b0000001b0b0000001b00000000000000000000001d000000000000000d000e000000000000000000001d00000e000000000d0000000000000000000000000000000000000000000000000000000000000000000000000000
1b00000000001b00000000000000000000000000000000000000000000000000000000000000292a2b2c0b292a2b2c0b0c292a2b2c292a2b2c00292a2b2c0000000d00000d001e000000000000000000001d1d001e000d00001d0000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000b000000000000000000000c0b0b0b0b0b0c0c0b0c0c0c00000c0c0b0c0c0c0000393a3b3c1b393a3b3c1b1b393a3b3c393a3b3c00393a3b3c0000000d00000d001e1d001d0000000e00001d1d1d1d1e0e0d001d1d0000000000000000000000000000000000000000000000000000000000000000000000000000
000c0000001b000b00000000000000000b0c0b0c0c0c0b0c0b0b0b0b00000b0c0b0b0b0b0000494a4b4c00494a4b4c0000494a4b4c494a4b4c00494a4b4c0000000d00000d001e1d001d0000001e00001d1d1d1d1e1e0d1d1d1d0d0e0d0e0d0e0d00000000000000000000000000000000000000000000000000000000000000
001c00000000001b00000000000000001b1b1b1c1b1b1c1c1c1b1b1c00001c1c1c0a1b1c0000595a5b5c00595a5b5c0000595a5b5c595a5b5c00595a5b5c0000001d00000d001e1d001d0000001e00001d1d1d1d1e1e0d1d1d1d1d1e1d1e1d1e1d00000000000000000000000000000000000000000000000000000000000000
1919191919191919090909090909090919090909190919090a1a0a1a090919090a1a0a1a090909190909190919190909090909090909090000000000000000000a0a0a0a0a0a0a1a0a0a0a0a1a0a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09090009090a090909090a190909190919191900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
010100001e6101d6101d6101c6101c6101c6101d6101e6102261024610266102761021610206101f6101d6101b61019610176101561014610126100f6100a6100761003610016100000000000000000000000000
0101000029320283202632025320233201f3201b320173201532011320103200f32008300006000b30006400014000b600066000060000300006000000000000143001a300006000000000000000000000000000
0f1000001105011050110501105011050110501105011050110501105011050110501105011050110501105014050110501105011050110501105011050110501105011050110501105011050110501105011050
cd1000001115011150111501115011150111501115011150111501115011150111501115011150111501115016150111501115011150111501115011150111501115011150111501115011150111501115011150
011000001165500000000000000011655000000000000000116550000000000000001165500000000000000011655000000000000000116550000000000000001165511655000000000011655000000000000000
09100000292520000029252272522925227252000002c25000000272500000029250000002925027250292502425000000242502c2502b250272502b250292502820224251242522425224252242520000000000
3d100000292520000029252272522925227252000002c25000000272500000029250000002925027250292502425000000242502c2502b250272502b25029250282022c2512c2522c2522c2522c2520000000000
17100000130733d6032b6750000013073000002b6750000013073000002b6750000013073000002b6750000013073000002b6750000013073000002b6750000013073000002b6750000013073000002b6752b675
011000000010000100001000010000100001000010000100001000010000100001000010000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__music__
00 02404344
01 03444344
02 02044344
01 03044344
01 05020744
00 06030744
00 05020744
00 06030744
00 41020744
02 41030744

